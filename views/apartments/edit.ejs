<%- include("../partials/header") %>

<div class="container">
	<div class="row">
		<h1 style="text-align: center;"> Edit <%= apartment.name %> </h1><br>
		<div style="width: 30%; margin: 25px auto;">
			<form action="/<%= apartment._id %>?_method=PUT" method="POST" enctype="multipart/form-data">

				<label for="image">Main Image:</label>
				<div class="form-group">
					<div class="thumbnail">
						<img src= "<%= apartment.main_image.url %>" /><br>

						<input type="file" id="image" name="main_image" accept="images/*">
					</div>
				</div>

				<div class="form-group">
					<label for="name">Name:</label>
					<input class="form-control" type="text" name="apartment[name]" id="name"
						   value="<%= apartment.name %>"/>
				</div>

				<div class="form-group">
					<label for="bedrooms">Number of bedrooms:</label>
					<input class="form-control" type="number" name="place[bedrooms]" min="0" step="1"
						   id="bedrooms" value="<%= apartment.place.bedrooms %>"/>
				</div>

				<div class="form-group">
					<label for="beds">Number of beds:</label>
					<input class="form-control" type="number" name="place[beds]" min="0" step="1"
						   id="beds" value="<%= apartment.place.beds %>"/>
				</div>

				<div class="form-group">
					<label for="bathrooms">Number of bathrooms:</label>
					<input class="form-control" type="number" name="place[bathrooms]" min="0" step="1"
						   id="bathrooms" value="<%= apartment.place.bathrooms %>"/>
				</div>

				<div class="form-group">
					<label for="room_type">Private Room</label>
					<input type="radio" name="place[room_type]" id="room_type" value="Pivate Room"
						   style="position: relative; left: 10px"
						   <% if(apartment.place.room_type == "Private Room"){ %>
								checked
						   <% } %>/>
				</div>

				<div class="form-group">
					<label for="room_type">Shared Room</label>
					<input type="radio" name="place[room_type]" id="room_type" value="Shared Room"
						   style="position: relative; left: 10px" 
						   <% if(apartment.place.room_type == "Shared Room"){ %>
								checked
						   <% } %>/>
				</div>

				<div class="form-group">
					<label for="room_type">Apartment</label>
					<input type="radio" name="place[room_type]" id="room_type" value="Apartment"
						   style="position: relative; left: 30px"
						   <% if(apartment.place.room_type == "Apartment"){ %>
								checked
						   <% } %>/>
				</div>

				<div class="form-group">
					<label for="living_room">Living Room</label>
					<input type="checkbox" name="place[living_room]" id="living_room" value="True"
						   style="position: relative; left: 13px"
						   <% if(apartment.place.living_room == "True"){ %>
								checked
						   <% } %>/>
				</div>

				<div class="form-group">
					<label for="area">Area:</label>
					<input class="form-control" type="number" name="place[area]" min="0.01" step="0.01"
						   id="area" value="<%= apartment.place.area %>"/>
				</div>

				<div class="form-group">
					<label for="description">Description:</label>
					<input class="form-control" type="text" name="apartment[description]" id="description"
						   value="<%= apartment.description %>"/>
				</div>

				<div class="form-group">
					<label for="smoking">Smoking</label>
					<input type="checkbox" name="renting_rules[smoking]" id="smoking" value="True"
						   style="position: relative; left: 10px"
						   <% if(apartment.renting_rules.smoking == "True"){ %>
								checked
						   <% } %>/>
				</div>

				<div class="form-group">
					<label for="pets">Pets</label>
					<input type="checkbox" name="renting_rules[pets]" id="pets" value="True"
						   style="position: relative; left: 38px"
						   <% if(apartment.renting_rules.pets == "True"){ %>
								checked
						   <% } %>>
				</div>

				<div class="form-group">
					<label for="events">Events</label>
					<input type="checkbox" name="renting_rules[events]" id="events" value="True"
						   style="position: relative; left: 23px"
						   <% if(apartment.renting_rules.events == "True"){ %>
								checked
						   <% } %>/>
				</div>

				<div class="form-group">
					<label for="rent_days_min">Minimum renting days:</label>
					<input class="form-control" type="number" name="renting_rules[rent_days_min]" min="1"
						 step="1" id="rent_days_min" value="<%= apartment.renting_rules.rent_days_min %>"/>
				</div>

				<div class="form-group">
					<label for="wifi">Wifi</label>
					<input type="checkbox" name="facilities[wifi]" id="wifi" value="True"
						   style="position: relative; left: 70px"
						   <% if(apartment.facilities.wifi == "True"){ %>
								checked
						   <% } %>>
				</div>

				<div class="form-group">
					<label for="air_conditioning">Air Condition</label>
					<input type="checkbox" name="facilities[air_conditioning]" id="air_conditioning"
						   value="True" style="position: relative; left: 8px"
						   <% if(apartment.facilities.air_conditioning == "True"){ %>
								checked
						   <% } %>>
				</div>

				<div class="form-group">
					<label for="kitchen">Kitchen</label>
					<input type="checkbox" name="facilities[kitchen]" id="kitchen" value="True"
						   style="position: relative; left: 44px"
						   <% if(apartment.facilities.kitchen == "True"){ %>
								checked
						   <% } %>/>
				</div>

				<div class="form-group">
					<label for="tv">TV</label>
					<input type="checkbox" name="facilities[tv]" id="tv" value="True"
						   style="position: relative; left: 75px"
						   <% if(apartment.facilities.tv == "True"){ %>
								checked
						   <% } %>/>
				</div>

				<div class="form-group">
					<label for="parking">Parking</label>
					<input type="checkbox" name="facilities[parking]" id="parking" value="True"
						   style="position: relative; left: 43px"
						   <% if(apartment.facilities.parking == "True"){ %>
								checked
						   <% } %>/>
				</div>

				<div class="form-group">
					<label for="elevator">Elevator</label>
					<input type="checkbox" name="facilities[elevator]" id="elevator" value="True"
						   style="position: relative; left: 40px"
						   <% if(apartment.facilities.elevator == "True"){ %>
								checked
						   <% } %>>
				</div>

				<div class="form-group">
					<label for="address">Address:</label>
					<input class="form-control" type="text" name="location[address]" id="address"
						   value="<%= apartment.location.address %>">
				</div>

				<div class="form-group">
					<label for="neighbourhood">Neighbourhood:</label>
					<input class="form-control" type="rext" name="location[neighbourhood]"
						   id="neighbourhood" value="<%= apartment.location.neighbourhood %>">
				</div>

				<div class="form-group">
					<label for="transportation">Means of transportation:</label>
					<input class="form-control" type="text" name="location.transportation"
						   id="transportation" value="<%= apartment.location.transportation %>">
				</div>

				<div class="form-group">
					<label for="images">More photos:</label>
					<input type="file" name="apartment[images]" accept="images/*" multiple>
					<p>To select multiple files, hold down the CTRL or SHIFT key while selecting.</p>
<!-- ALSO SHOW EXISTING PHOTOS + REMOVE BUTTON FOR EACH ONE! -->
				</div>

				<div class="form-group">
					<label for="price_min">Minimum price per night:</label>
					<input class="form-control" type="number" name="apartment[price_min]" min="0.01"
						   step="0.01" id="price_min" value="<%= apartment.price_min %>">
				</div>

				<div class="form-group">
					<label for="extra_charge_per_guest">Extra charge per guest:</label>
					<input class="form-control" type="number" name="apartment[extra_charge_per_guest]"
						   min="0.00" step="0.01" id="extra_charge_per_guest"
						   value="<%= apartment.extra_charge_per_guest %>">
				</div>

				<div class="form-group">
					<label for="avail_from">Available from:</label>
					<input class="form-control" type="date" name="apartment[availability_from]"
						   id="avail_from" value="<%= apartment.availability_from %>">
				</div>

				<div class="form-group">
					<label for="avail_to">Available until:</label>
					<input class="form-control" type="date" name="apartment[availability_to]"
						   id="avail_to" value="<%= apartment.availability_to %>">
				</div>

				<div>
					<label for="capacity">Maximum number of guests:</label>
					<input class="form-control" type="number" name="apartment[capacity]" min="1" step="1"
						   id="capacity" value="<%= apartment.capacity %>"><br>
				</div>

				<div class="form-group">
					<button class="btn btn-lg btn-primary btn-block">Submit</button>
				</div>
			</form>
			<a href="/apartments/<%= apartment._id %>">Go Back</a>
		</div>
	</div>
</div>

<%- include('../partials/footer') %>